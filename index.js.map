{"mappings":"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","sources":["src/app/index.js","src/app/Animations.js","src/app/SmoothScroll.js","src/app/shaders/vertex.glsl","src/app/shaders/fragment.glsl"],"sourcesContent":["import * as THREE from 'three'\nimport GSAP from 'gsap'\n\nimport Animations from './Animations'\nimport SmoothScroll from './SmoothScroll'\n\nimport vertexShader from './shaders/vertex.glsl'\nimport fragmentShader from './shaders/fragment.glsl'\n\nclass ScrollStage {\n  constructor() {\n    this.element = document.querySelector('.content')\n\n    this.elements = {\n      line: this.element.querySelector('.layout__line')\n    }\n\n    this.viewport = {\n      width: window.innerWidth,\n      height: window.innerHeight,\n    }\n\n    this.mouse = {\n      x: 0,\n      y: 0\n    }\n\n    this.scroll = {\n      height: 0,\n      limit: 0,\n      hard: 0,\n      soft: 0,\n      ease: 0.05,\n      normalized: 0, \n      running: false\n    }\n\n    this.settings = {\n      // vertex\n      uFrequency: {\n        start: 0,\n        end: 4\n      },\n      uAmplitude: {\n        start: 4,\n        end: 4\n      },\n      uDensity: {\n        start: 1,\n        end: 1\n      },\n      uStrength: {\n        start: 0,\n        end: 1.1\n      },\n      // fragment\n      uDeepPurple: {  // max 1\n        start: 1,\n        end: 0\n      },\n      uOpacity: {  // max 1\n        start: .1,\n        end: .66\n      }\n    }\n\n    this.scene = new THREE.Scene()\n\n    this.renderer = new THREE.WebGLRenderer({ \n      antialias: true, \n      alpha: true \n    })\n\n    this.canvas = this.renderer.domElement\n\n    this.camera = new THREE.PerspectiveCamera( \n      75, \n      this.viewport.width / this.viewport.height, \n      .1, \n      10\n    )\n\n    this.clock = new THREE.Clock()\n\n    this.smoothScroll = new SmoothScroll({ \n      element: this.element, \n      viewport: this.viewport, \n      scroll: this.scroll\n    })\n\n    GSAP.defaults({\n      ease: 'power2',\n      duration: 6.6,\n      overwrite: true\n    })\n    \n    this.updateScrollAnimations = this.updateScrollAnimations.bind(this)\n    this.update = this.update.bind(this)\n        \n    this.init()\n  }\n  \n  init() {\n    this.addCanvas()\n    this.addCamera()\n    this.addMesh()\n    this.addEventListeners()\n    this.onResize()\n    this.update()\n  }\n\n  /**\n   * STAGE\n   */\n  addCanvas() {\n    this.canvas.classList.add('webgl')\n    document.body.appendChild(this.canvas)\n  }\n\n  addCamera() {\n    this.camera.position.set(0, 0, 2.5)\n    this.scene.add(this.camera)\n  }\n\n  /**\n   * OBJECT\n   */\n  addMesh() {\n    this.geometry = new THREE.IcosahedronGeometry(1, 64)\n    \n    this.material = new THREE.ShaderMaterial({\n      wireframe: true,\n      blending: THREE.AdditiveBlending,\n      transparent: true,\n      vertexShader,\n      fragmentShader,\n      uniforms: {\n        uFrequency: { value: this.settings.uFrequency.start },\n        uAmplitude: { value: this.settings.uAmplitude.start },\n        uDensity: { value: this.settings.uDensity.start },\n        uStrength: { value: this.settings.uStrength.start },\n        uDeepPurple: { value: this.settings.uDeepPurple.start },\n        uOpacity: { value: this.settings.uOpacity.start }\n      }\n    })\n    \n    this.mesh = new THREE.Mesh(this.geometry, this.material)\n    \n    this.scene.add(this.mesh)\n  }\n\n  /**\n   * SCROLL BASED ANIMATIONS\n   */\n  updateScrollAnimations() {\n    this.scroll.running = false\n    this.scroll.normalized = (this.scroll.hard / this.scroll.limit).toFixed(1)\n    \n    GSAP.to(this.mesh.rotation, {\n      x: this.scroll.normalized * Math.PI\n    })\n \n    GSAP.to(this.elements.line, {\n      scaleX: this.scroll.normalized, \n      transformOrigin: 'left', \n      duration: 1.5,\n      ease: 'ease'\n    })\n\n    for (const key in this.settings) {\n      if (this.settings[key].start !== this.settings[key].end) {\n        GSAP.to(this.mesh.material.uniforms[key], {\n          value: this.settings[key].start + this.scroll.normalized * (this.settings[key].end - this.settings[key].start)\n        })\n      }\n    }\n  }\n\n  /**\n   * EVENTS\n   */\n  addEventListeners() {\n    window.addEventListener('load', this.onLoad.bind(this))\n    \n    // window.addEventListener('mousemove', this.onMouseMove.bind(this))  // enable for soundcheck (→ console)\n    \n    window.addEventListener('scroll', this.onScroll.bind(this))\n\n    window.addEventListener('resize', this.onResize.bind(this))\n  }\n\n  onLoad() {\n    document.body.classList.remove('loading')\n\n    this.animations = new Animations(this.element, this.camera)\n  }\n\n  onMouseMove(event) {\n    // play with it!\n    // enable / disable / change x, y, multiplier …\n\n    this.mouse.x = (event.clientX / this.viewport.width).toFixed(2) * 4\n    this.mouse.y = (event.clientY / this.viewport.height).toFixed(2) * 2\n\n    GSAP.to(this.mesh.material.uniforms.uFrequency, { value: this.mouse.x })\n    GSAP.to(this.mesh.material.uniforms.uAmplitude, { value: this.mouse.x })\n    GSAP.to(this.mesh.material.uniforms.uDensity, { value: this.mouse.y })\n    GSAP.to(this.mesh.material.uniforms.uStrength, { value: this.mouse.y })\n    // GSAP.to(this.mesh.material.uniforms.uDeepPurple, { value: this.mouse.x })\n    // GSAP.to(this.mesh.material.uniforms.uOpacity, { value: this.mouse.y })\n\n    console.info(`X: ${this.mouse.x}  |  Y: ${this.mouse.y}`)\n  }\n\n  onScroll() {\n    if (!this.scroll.running) {\n      window.requestAnimationFrame(this.updateScrollAnimations)\n      \n      this.scroll.running = true\n    }\n  }\n\n  onResize() {\n    this.viewport = {\n      width: window.innerWidth,\n      height: window.innerHeight\n    }\n\n    this.smoothScroll.onResize()\n\n    if (this.viewport.width < this.viewport.height) {\n      this.mesh.scale.set(.75, .75, .75)\n    } else {\n      this.mesh.scale.set(1, 1, 1)\n    }\n\n    this.camera.aspect = this.viewport.width / this.viewport.height\n    this.camera.updateProjectionMatrix()\n    \n    this.renderer.setSize(this.viewport.width, this.viewport.height)\n    this.renderer.setPixelRatio(Math.min(window.devicePixelRatio, 1.5))  \n  }\n\n  /**\n   * LOOP\n   */\n  update() {\n    const elapsedTime = this.clock.getElapsedTime()\n    this.mesh.rotation.y = elapsedTime * .05\n\n    this.smoothScroll.update()\n\n    this.render()\n\n    window.requestAnimationFrame(this.update)\n  }\n\n  /**\n   * RENDER\n   */\n  render() {\n    this.renderer.render(this.scene, this.camera)\n  }  \n}\n\nnew ScrollStage()\n\n\n","import GSAP from 'gsap'\n\nexport default class {\n  constructor(element, camera) {\n    this.element = element\n\n    this.elements = {\n      number: element.querySelector('.section__title-number'),\n      title: element.querySelector('.section__title-text'),\n      arrows: element.querySelectorAll('.section__title-arrow span'),\n      paragraph: element.querySelector('.section__paragraph'),\n      button: element.querySelector('.section__button'),\n    }\n\n    this.camera = camera\n\n    this.animateIn()\n  }\n\n  animateIn() {\n    const animateIn = GSAP.timeline({ \n      defaults: {\n        ease: 'expo'\n      }\n    })\n    \n    animateIn\n      .from(this.camera.position, {\n        z: 4,\n        duration: 3\n      })\n      \n      .from([ \n        this.elements.number, \n        this.elements.title, \n        this.elements.text,  \n        this.elements.paragraph, \n        this.elements.button,\n        this.elements.arrows\n      ], {\n          y: -100,\n          autoAlpha: 0,\n          stagger: .2,\n          duration: 1.6\n      }, '<.3')\n    }\n}\n","import GSAP from 'gsap'\n\nexport default class {\n  constructor({ element, viewport, scroll }) {\n    this.element = element\n    this.viewport = viewport\n    this.scroll = scroll\n\n    this.elements = {\n      scrollContent: this.element.querySelector('.scroll__content')\n    }\n  }\n\n  setSizes() {\n    this.scroll.height = this.elements.scrollContent.getBoundingClientRect().height\n    this.scroll.limit = this.elements.scrollContent.clientHeight - this.viewport.height\n\n    document.body.style.height = `${this.scroll.height}px`\n  }\n  \n  update() {\n    this.scroll.hard = window.scrollY\n    this.scroll.hard = GSAP.utils.clamp(0, this.scroll.limit, this.scroll.hard)\n    this.scroll.soft = GSAP.utils.interpolate(this.scroll.soft, this.scroll.hard, this.scroll.ease)\n\n    if (this.scroll.soft < 0.01) {\n      this.scroll.soft = 0\n    }\n    \n    this.elements.scrollContent.style.transform = `translateY(${-this.scroll.soft}px)`\n  }    \n\n  onResize() {\n    this.viewport = {\n      width: window.innerWidth,\n      height: window.innerHeight\n    }\n    \n    this.setSizes()\n  }\n}\n","\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise, periodic variant\nfloat pnoise(vec3 P, vec3 rep)\n{\n  vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\n  vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\n// https://github.com/dmnsgn/glsl-rotate\nmat3 rotation3dY(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat3(\n      c, 0.0, -s,\n      0.0, 1.0, 0.0,\n      s, 0.0, c\n    );\n  }\n  \nvec3 rotateY(vec3 v, float angle) {\n  return rotation3dY(angle) * v;\n}\n\n//\n\nuniform float uFrequency;\nuniform float uAmplitude;\nuniform float uDensity;\nuniform float uStrength;\n\nvarying float vDistortion;\n\nvoid main() {  \n  float distortion = pnoise(normal * uDensity, vec3(10.)) * uStrength;\n\n  vec3 pos = position + (normal * distortion);\n  float angle = sin(uv.y * uFrequency) * uAmplitude;\n  pos = rotateY(pos, angle);    \n    \n  vDistortion = distortion;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}\n","uniform float uOpacity;\nuniform float uDeepPurple;\n \nvarying float vDistortion;\n\nvec3 cosPalette(float t, vec3 a, vec3 b, vec3 c, vec3 d) {\n  return a + b * cos(6.28318 * (c * t + d));\n  \n}     \n \nvoid main() {\n  float distort = vDistortion * 3.;\n\n  vec3 brightness = vec3(.1, .1, .9);\n  vec3 contrast = vec3(.3, .3, .3);\n  vec3 oscilation = vec3(.5, .5, .9);\n  vec3 phase = vec3(.9, .1, .8);\n \n  vec3 color = cosPalette(distort, brightness, contrast, oscilation, phase);\n  \n  gl_FragColor = vec4(color, vDistortion);\n  gl_FragColor += vec4(min(uDeepPurple, 1.), 0., .5, min(uOpacity, 1.));\n}\n"],"names":[],"version":3,"file":"index.js.map"}